

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>forge.blade.core.realm module &mdash; Neural MMO 1.3 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="forge.blade.core.config module" href="forge.blade.core.config.html" />
    <link rel="prev" title="User API" href="api.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Neural MMO
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html"> Welcome to the Platform!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#icon-overview"> Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#icon-quickstart"> Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#icon-publications"> Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#icon-demos"> Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#icon-patch-notes-version-history"> Patch Notes + Version History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#icon-rendering-and-overlays"> Rendering and Overlays</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#icon-tutorials"> Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#icon-ideology"> Ideology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#icon-authorship-license-disclaimer"> Authorship, License, Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#icon-assets"> Assets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#ags-namesake"> Namesake</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../devguide.html"> Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devguide.html#ags-before-you-start"> Before You Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devguide.html#ags-tech-stack"> Tech Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devguide.html#ags-versioning"> Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devguide.html#ags-style"> Style</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="api.html"> User API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">forge.blade.core.realm module</a></li>
<li class="toctree-l2"><a class="reference internal" href="forge.blade.core.config.html">forge.blade.core.config module</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="api.html#ags-developer-api"> Developer API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="projekt.html">projekt package</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="forge.html">forge package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="forge.blade.html">forge.blade package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="forge.blade.core.html">forge.blade.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="forge.blade.entity.html">forge.blade.entity package</a></li>
<li class="toctree-l4"><a class="reference internal" href="forge.blade.hook.html">forge.blade.hook package</a></li>
<li class="toctree-l4"><a class="reference internal" href="forge.blade.io.html">forge.blade.io package</a></li>
<li class="toctree-l4"><a class="reference internal" href="forge.blade.item.html">forge.blade.item package</a></li>
<li class="toctree-l4"><a class="reference internal" href="forge.blade.lib.html">forge.blade.lib package</a></li>
<li class="toctree-l4"><a class="reference internal" href="forge.blade.systems.html">forge.blade.systems package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="forge.ethyr.html">forge.ethyr package</a></li>
<li class="toctree-l3"><a class="reference internal" href="forge.trinity.html">forge.trinity package</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Neural MMO</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="api.html"> User API</a> &raquo;</li>
        
      <li>forge.blade.core.realm module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/autodoc/forge.blade.core.realm.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-forge.blade.core.realm">
<span id="forge-blade-core-realm-module"></span><h1>forge.blade.core.realm module<a class="headerlink" href="#module-forge.blade.core.realm" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="forge.blade.core.realm.valToRGB">
<code class="sig-prename descclassname">forge.blade.core.realm.</code><code class="sig-name descname">valToRGB</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.valToRGB" title="Permalink to this definition">¶</a></dt>
<dd><p>x in range [0, 1]</p>
</dd></dl>

<dl class="class">
<dt id="forge.blade.core.realm.Packet">
<em class="property">class </em><code class="sig-prename descclassname">forge.blade.core.realm.</code><code class="sig-name descname">Packet</code><a class="headerlink" href="#forge.blade.core.realm.Packet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Wrapper for state, reward, done signals</p>
</dd></dl>

<dl class="class">
<dt id="forge.blade.core.realm.Spawner">
<em class="property">class </em><code class="sig-prename descclassname">forge.blade.core.realm.</code><code class="sig-name descname">Spawner</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Spawner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manager class responsible for agent spawning logic</p>
<dl class="method">
<dt id="forge.blade.core.realm.Spawner.spawn">
<code class="sig-name descname">spawn</code><span class="sig-paren">(</span><em class="sig-param">realm</em>, <em class="sig-param">iden</em>, <em class="sig-param">pop</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Spawner.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an entity to the given environment</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>realm</strong> – An environment Realm object</p></li>
<li><p><strong>iden</strong> – An identifier index to assign to the new agent</p></li>
<li><p><strong>pop</strong> – A population index to assign to the new agent</p></li>
<li><p><strong>name</strong> – A string to prepend to iden as an agent name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Spawner.cull">
<code class="sig-name descname">cull</code><span class="sig-paren">(</span><em class="sig-param">pop</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Spawner.cull" title="Permalink to this definition">¶</a></dt>
<dd><p>Decrement the agent counter for the specified population</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pop</strong> – A population index</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="forge.blade.core.realm.Realm">
<em class="property">class </em><code class="sig-prename descclassname">forge.blade.core.realm.</code><code class="sig-name descname">Realm</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">idx=0</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="forge.trinity.ascend.html#forge.trinity.ascend.Timed" title="forge.trinity.ascend.Timed"><code class="xref py py-class docutils literal notranslate"><span class="pre">forge.trinity.ascend.Timed</span></code></a></p>
<p>Neural MMO environment class implementing the OpenAI Gym API function
signatures. The actual (ob, reward, done, info) data contents returned by
the canonical reset() and step(action) methods conform to RLlib’s Gym
extensions in order to support multiple and variably sized agent
populations. This means you cannot use preexisting optimizer
implementations that expect the OpenAI Gym API. We recommend
PyTorch+RLlib to take advantage of our prebuilt baseline implementations,
but any framework that supports RLlib’s fairly popular environment API and
extended OpenAI gym.spaces observation/action definitions works as well.</p>
<dl class="method">
<dt id="forge.blade.core.realm.Realm.step">
<code class="sig-name descname">step</code><span class="sig-paren">(</span><em class="sig-param">decisions</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.step" title="Permalink to this definition">¶</a></dt>
<dd><p>OpenAI Gym API step function simulating one game tick or timestep</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>decisions</strong> – <p>A dictionary of agent action choices of format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="n">agent_1</span><span class="p">:</span> <span class="p">{</span>
      <span class="n">action_1</span><span class="p">:</span> <span class="p">[</span><span class="n">arg_1</span><span class="p">,</span> <span class="n">arg_2</span><span class="p">],</span>
      <span class="n">action_2</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span>
      <span class="o">...</span>
   <span class="p">},</span>
   <span class="n">agent_2</span><span class="p">:</span> <span class="p">{</span>
      <span class="o">...</span>
   <span class="p">},</span>
   <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where agent_i is the integer index of the i’th agent</p>
<p>You do not need to provide actions for each agent
You do not need to provide an action of each type for each agent
Only provided actions for provided agents will be evaluated
Unprovided action types are interpreted as no-ops
Invalid actions are ignored</p>
<p>It is also possible to specify invalid combinations of valid
actions, such as two movements or two attacks. In this case,
one will be selected arbitrarily from each incompatible sets.</p>
<p>A well-formed algorithm should do none of the above. We only
Perform this conditional processing to make batched action
computation easier.</p>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl>
<dt>observations:</dt><dd><p>A dictionary of agent observations of format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="n">agent_1</span><span class="p">:</span> <span class="n">obs_1</span><span class="p">,</span>
   <span class="n">agent_2</span><span class="p">:</span> <span class="n">obs_2</span><span class="p">,</span>
   <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Where agent_i is the integer index of the i’th agent and
obs_i is the observation of the i’th’ agent. Note that obs_i
is a structured datatype – not a flat tensor. It is automatically
interpretable under an extended OpenAI gym.spaces API. Our demo
code shows how do to this in RLlib. Other frameworks must
implement the same extended gym.spaces API to do the same.</p>
</dd>
<dt>rewards:</dt><dd><p>A dictionary of agent agent of format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="n">agent_1</span><span class="p">:</span> <span class="n">reward_1</span><span class="p">,</span>
   <span class="n">agent_2</span><span class="p">:</span> <span class="n">reward_2</span><span class="p">,</span>
   <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Where agent_i is the integer index of the i’th agent and
reward_i is the reward of the i’th’ agent.</p>
<p>By default, agents receive -1 reward for dying and 0 reward for
all other circumstances. Realm.hook provides an interface for
creating custom reward functions using full game state.</p>
</dd>
<dt>dones:</dt><dd><p>A dictionary of agent agent of format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="n">agent_1</span><span class="p">:</span> <span class="n">done_1</span><span class="p">,</span>
   <span class="n">agent_2</span><span class="p">:</span> <span class="n">done_2</span><span class="p">,</span>
   <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Where agent_i is the integer index of the i’th agent and
done_i is a boolean denoting whether the i’th agent has died.</p>
<p>Note that obs_i will be a garbage placeholder if done_i is true.
This is provided only for conformity with OpenAI Gym. Your
algorithm should not attempt to leverage observations outside of
trajectory bounds.</p>
</dd>
<dt>infos:</dt><dd><p>An empty dictionary provided only for conformity with OpenAI Gym.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(dict, dict, dict, None)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates the environment and returns initial observations</p>
<p>Neural MMO simulates a persistent world. It is best-practice to call
reset() once per environment upon initialization and never again.
Treating agent lifetimes as episodes enables training with all on-policy
and off-policy reinforcement learning algorithms.</p>
<p>We provide this function for conformity with OpenAI Gym and
compatibility with various existing off-the-shelf reinforcement
learning algorithms that expect a hard environment reset. If you
absolutely must call this method after the first initialization,
we suggest using very long (1000+) timestep environment simulations.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>observations, as documented by step()</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.reward">
<code class="sig-name descname">reward</code><span class="sig-paren">(</span><em class="sig-param">entID</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.reward" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the reward for the specified agent</p>
<p>You can override this method to create custom reward functions.
This method has access to the full environment state via self.
The baselines do not modify this method. You should specify any
changes you may have made to this method when comparing to the baselines</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>reward:</dt><dd><p>The reward for the actions on the previous timestep of the
entity identified by entID.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.spawn">
<code class="sig-name descname">spawn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when an agent is added to the environment</p>
<p>You can override this method to specify custom spawning behavior
with full access to the environment state via self.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>entID:</dt><dd><p>An integer used to uniquely identify the entity</p>
</dd>
<dt>popID:</dt><dd><p>An integer used to identity membership within a population</p>
</dd>
<dt>prefix:</dt><dd><p>The agent will be named prefix + entID</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(int, int, str)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This API hook is mainly intended for population-based research. In
particular, it allows you to define behavior that selectively
spawns agents into particular populations based on the current game
state – for example, current population sizes or performance.</p>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.clientData">
<code class="sig-name descname">clientData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.clientData" title="Permalink to this definition">¶</a></dt>
<dd><p>Data packet used by the renderer</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A packet of data for the client</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>packet</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.act">
<code class="sig-name descname">act</code><span class="sig-paren">(</span><em class="sig-param">actions</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.act" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute agent actions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>actions</strong> – A dictionary of agent actions</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.prioritize">
<code class="sig-name descname">prioritize</code><span class="sig-paren">(</span><em class="sig-param">decisions</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.prioritize" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorders actions according to their priorities</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>decisions</strong> – A dictionary of agent actions</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Repriotized actions</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Only saves the first action of each priority</p>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.stepEnv">
<code class="sig-name descname">stepEnv</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.stepEnv" title="Permalink to this definition">¶</a></dt>
<dd><p>Advances the environment</p>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.stepEnts">
<code class="sig-name descname">stepEnts</code><span class="sig-paren">(</span><em class="sig-param">decisions</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.stepEnts" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance agents</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>decisions</strong> – A dictionary of agent actions</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>State-reward-done packets
dones   : A list of dead agent IDs</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>packets</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.postmortem">
<code class="sig-name descname">postmortem</code><span class="sig-paren">(</span><em class="sig-param">ent</em>, <em class="sig-param">dead</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.postmortem" title="Permalink to this definition">¶</a></dt>
<dd><p>Add agent to the graveyard if it is dead</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ent</strong> – An agent object</p></li>
<li><p><strong>dead</strong> – A list of dead agents</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether the agent is dead</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.cullDead">
<code class="sig-name descname">cullDead</code><span class="sig-paren">(</span><em class="sig-param">dead</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.cullDead" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the specified list of agents</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dead</strong> – A list of dead agent IDs to remove</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.getStims">
<code class="sig-name descname">getStims</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.getStims" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets agent stimuli from the environment</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>packets</strong> – A dictionary of Packet objects</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The packet dictionary populated with agent data</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.size">
<em class="property">property </em><code class="sig-name descname">size</code><a class="headerlink" href="#forge.blade.core.realm.Realm.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the size of the game map</p>
<p>You can override this method to create custom reward functions.
This method has access to the full environment state via self.
The baselines do not modify this method. You should specify any
changes you may have made to this method when comparing to the baselines</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>size:</dt><dd><p>The size of the map as (rows, columns)</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple(int, int)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.registerOverlay">
<code class="sig-name descname">registerOverlay</code><span class="sig-paren">(</span><em class="sig-param">overlay</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.registerOverlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers an overlay to be sent to the client</p>
<p>This variable is included in client data passed to the renderer and is
typically used to send value maps computed using getValStim to the
client in order to render as an overlay.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>values</strong> – A map-sized (self.size) array of floating point values</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.realm.Realm.getValStim">
<code class="sig-name descname">getValStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.realm.Realm.getValStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulates an agent on every tile and returns observations</p>
<p>This method is used to compute per-tile visualizations across the
entire map simultaneously. To do so, we spawn agents on each tile
one at a time. We compute the observation for each agent, delete that
agent, and go on to the next one. In this fashion, each agent receives
an observation where it is the only agent alive. This allows us to
isolate potential influences from observations of nearby agents</p>
<p>This function is slow, and anything you do with it is porbably slower.
As a concrete example, consider that we would like to visualize a
learned agent value function for the entire map. This would require
computing a forward pass for one agent per tile. To cut down on
computation costs, we omit lava tiles from this method</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl>
<dt>observations:</dt><dd><p>A dictionary of agent observations as specified by step()</p>
</dd>
<dt>stimuli:</dt><dd><p>A dictionary of raw game object observations as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="n">agent_1</span><span class="p">:</span> <span class="p">(</span><span class="n">tiles</span><span class="p">,</span> <span class="n">agent</span><span class="p">),</span>
   <span class="n">agent_2</span><span class="p">:</span> <span class="p">(</span><span class="n">tiles</span><span class="p">,</span> <span class="n">agent</span><span class="p">),</span>
   <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Where agent_i is the integer index of the i’th agent,
tiles is an array of observed game tiles, and agent is the
game object corresponding to agent_i</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(dict, dict)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="forge.blade.core.config.html" class="btn btn-neutral float-right" title="forge.blade.core.config module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api.html" class="btn btn-neutral float-left" title="User API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Joseph Suarez

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

  <style>
    :root {
      --foreground: #000000;
      --background: #000e0e;
      --accent:     #005050;
      --text:       #bbbbbb;
      --title:      #00bbbb;
      --monochrome: #bbbbbb;
      --link:       #ffffff;
    }

    body {
      color: var(--text);
    }

    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: var(--background);
    }
    /* Sidebar */
    .wy-nav-side {
      background: var(--foreground);
    }
    .wy-nav-content {
      background: var(--background);
    }
    .wy-nav-content-wrap {
      background: var(--foreground);
    }

    .wy-table-responsive table td, .wy-table-responsive table th {
      /* !important prevents the common CSS stylesheets from
             overriding this as on RTD they are loaded after this stylesheet */
      white-space: normal !important;
    }
       
    .wy-table-responsive {
      overflow: visible !important;
    }

    //This one is the one that does something?
    .row-odd {
      background: #ff0000;
    }

    .row-even {
      background: var(--accent);
    }

    /* Top line */
    hr {
      border-top-color: teal;
      border-top-style: solid;
      border-top-width: 3px;
    }

    /* ****** Begin Tables ****** */

    /*Don't even think about changing this.
    Spent 3 hours pulling this from an rtd bitbucket PR*/ 
    wy-table-odd td, .wy-table-striped tr:nth-child(2n-1) td, .rst-content table.docutils:not(.field-list) tr:nth-child(2n-1) td {
      background-color: var(--foreground);
    }

    wy-table-even td, .wy-table-striped tr:nth-child(2n) td, .rst-content table.docutils:not(.field-list) tr:nth-child(2n) td {
      background-color: var(--background);
    }

    /* Outer table */
    .wy-table-bordered-all, .rst-content table.docutils {
      border: 1px solid #0f0;
        border-top-color: var(--accent);
        border-top-style: solid;
        border-top-width: 1px;
        border-right-color: var(--accent);
        border-right-style: solid;
        border-right-width: 1px;
        border-bottom-color: var(--accent);
        border-bottom-style: solid;
        border-bottom-width: 1px;
        border-left-color: var(--accent);
        border-left-style: solid;
        border-left-width: 1px;
        border-image-outset: 0;
        border-image-repeat: stretch;
        border-image-slice: 100%;
        border-image-source: none;
        border-image-width: 1;
    }

    /* Table header underline */
    .wy-table thead th, .rst-content table.docutils thead th, .rst-content table.field-list thead th {
        font-weight: bold;
        border-bottom-color: rgb(055, 0, 0);
        border-bottom-style: solid;
        border-bottom-width: 0px;
    }

    /* Inner table border */
    .wy-table-bordered-all td, .rst-content table.docutils td {
        border-bottom-color: rgb(255, 0, 0);
        border-bottom-style: solid;
        border-bottom-width: 0px;
        border-left-color: rgb(255, 0, 0);
        border-left-style: solid;
        border-left-width: 0px;
    }
    /* ****** End Tables ****** */

    /* ****** Start selection for left sidebar ****** */
    .wy-menu-vertical li.current{
      background: var(--foreground);
    }

    .wy-menu-vertical li.toctree-l1.current > a{
      background: var(--foreground);
      border-top-color: lime;
      border-top-style: solid;
      border-top-width: 3px;
      border-bottom-color: lime;
      border-bottom-style: solid;
      border-bottom-width: 3px;
      
    }

    .rst-content pre.literal-block, .rst-content div[class^="highlight"] {
      border-top-color: var(--accent);
      border-top-style: solid;
      border-top-width: 1px;
      border-right-color: var(--accent);
      border-right-style: solid;
      border-right-width: 1px;
      border-bottom-color: var(--accent);
      border-bottom-style: solid;
      border-bottom-width: 1px;
      border-left-color: var(--accent);
      border-left-style: solid;
      border-left-width: 1px;
      border-image-outset: 0;
      border-image-repeat: stretch;
      border-image-slice: 100%;
      border-image-source: none;
      border-image-width: 1;
    }

    .wy-menu-vertical li.toctree-l2.current li.toctree-l3 > a {
      display: block;
      background: var(--accent);
      padding: .4045em 4.045em;
    }

    .wy-menu-vertical li.toctree-l2.current > a {
      background: var(--foreground);
      padding: .4045em 2.427em;
    }

    .wy-menu-vertical li.toctree-l3.current li.toctree-l4 > a {
      display: block;
      background: var(--foreground);
      padding: .4045em 5.663em;
    }

    .wy-menu-vertical li.toctree-l2.current li.toctree-l3 > a {
      display: block;
      background: var(--foreground);
      padding: .4045em 4.045em;
    }

    /* ****** End selection for left sidebar ****** */

    /* Bullet(?) blocks */
    .rst-content dl:not(.docutils) dt {
      display: table;
      margin: 6px 0;
      margin-top: 6px;
      font-size: 90%;
      line-height: normal;
      background: var(--foreground);
      color: var(--title);
      border-top: solid 6px var(--accent);
      padding: 6px;
      position: relative;
    }

    /* ****** Start Code Blocks ****** */
    .highlight-python {
      background: var(--accent);
      border: var(--accent);
    }

    .highlight {
      background: var(--foreground);
      color: var(--accent);
    }
    /* ****** End Code Blocks ****** */

    /* Buttons */
    .btn-neutral {
      background-color: var(--accent) !important;
      color: var(--title) !important;
    }

    /* Buttons */
    .btn-neutral:visited {
      background-color: var(--accent) !important;
      color: var(--title) !important;
    }

    .rst-content dl:not(.docutils) dl dt {
      margin-bottom: 6px;
      border-left: solid 0px var(--foreground);
      background: var(--background);
      color: var(--text);
      }

    code, .rst-content tt, .rst-content code {
      background-color: var(--foreground);
      border-top-width: 0px;
      border-bottom-width: 0px;
      border-left-width: 0px;
      border-right-width: 0px;
    }

    .rst-content dl:not(.docutils) dl dt {
      border-left-color: var(--background);
    }

    .rst-content tt, .rst-content tt, .rst-content code {
      color: var(--title);
    }

    .rst-content tt.xref, a .rst-content tt, .rst-content tt.xref, .rst-content code.xref, a .rst-content tt, a .rst-content code {
      color: var(--title);
    }

    .wy-menu-vertical li.toctree-l2 a, .wy-menu-vertical li.toctree-l3 a, .wy-menu-vertical li.toctree-l4 a {
      color: var(--text);
    }

    .wy-menu-vertical li.on a, .wy-menu-vertical li.current > a {
      color: #00ff00;
    }

    .wy-menu-vertical li.current a {
      border-right: solid 1px (--background);
      padding: .4045em 2.427em;
    }

    .wy-menu-vertical header, .wy-menu-vertical p.caption {
       color: var(--title);
       line-height: 32px;
       font-weight: bold;
       text-transform: uppercase;
       font-size: 85%;
       white-space: nowrap;
    }

    footer {
      color: var(--accent);
    }

    p {
      color: var(--text);
    }
    h1 {
      color: var(--title);
    }

    h2 {
      color: var(--accent);
    }

    h3 {
      color: var(--accent);
    }

    h4 {
      color: var(--accent);
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    li {
      padding-left: 1em; 
      text-indent: -.7em;
    }

    li {
      content: "• ";
      color: var(--title); /* or whatever color you prefer */
      }

    a:link {
      color: var(--link);
    }

    a:visited {
      color: var(--link);
    }

    a:hover {
      color: lime;
    }

    a:active {
      color: lime;
    }


  </style>


</body>
</html>