

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quickstart &mdash; Neural MMO 1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Ideology" href="ideology.html" />
    <link rel="prev" title="Welcome to the Platform!" href="overview.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Neural MMO
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html"> Welcome to the Platform!</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"> Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ags-projekt"> Projekt</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#water-trinity"> Trinity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#air-ethyr"> Ethyr</a></li>
<li class="toctree-l3"><a class="reference internal" href="#earth-blade"> Blade</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fire-embyr"> Embyr</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ideology.html"> Ideology</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="autodoc/modules.html">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Neural MMO</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li> Quickstart</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/neural-mmo.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p><img alt="env" src="_images/banner.png" /></p>
<div class="section" id="ags-quickstart">
<h1><img alt="ags" src="_images/ags.png" /> Quickstart<a class="headerlink" href="#ags-quickstart" title="Permalink to this headline">¶</a></h1>
<p>The master branch will always contain the latest stable version. <strong>Users should not fork cowboy branches.</strong> These are hyperagressive dev branches for contributors, not bleeding edge builds.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Install OpenAI environment and the Embyr client</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">jsuarez5341</span><span class="o">/</span><span class="n">neural</span><span class="o">-</span><span class="n">mmo</span>
<span class="n">cd</span> <span class="n">neural</span><span class="o">-</span><span class="n">mmo</span>

<span class="c1">#We assume you already have a Python 3.7+ Anaconda setup</span>
<span class="n">python</span> <span class="n">scripts</span><span class="o">/</span><span class="n">setup</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>All configuration options are available in experiments.py. The environment is framework independent. So are some of the contrib libraries. Our demo code is a full fledged research pipeline written in PyTorch. It makes use of some PyTorch-specific contrib libraries. If you don’t have a strong framework preference, extending the demo is a great way to get started immediately. To run the environment:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Train with 4 CPU cores (editable in config.py)</span>
<span class="n">python</span> <span class="n">Forge</span><span class="o">.</span><span class="n">py</span>

<span class="c1">#You can also tell Ray to execute locally.</span>
<span class="c1">#This is useful for debugging and works with pdb</span>
<span class="n">python</span> <span class="n">Forge</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">ray</span> <span class="n">local</span>

<span class="c1">#Run the environment with rendering on</span>
<span class="n">python</span> <span class="n">Forge</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">render</span>
</pre></div>
</div>
<p>Once the environment is running with –render, run ./client to launch the Unity3D <a class="reference external" href="https://github.com/jsuarez5341/neural-mmo-client">client</a>. For now, you will need to relaunch the client any time you relaunch the server.</p>
<div class="section" id="ags-projekt">
<h2><img alt="ags" src="_images/ags.png" /> Projekt<a class="headerlink" href="#ags-projekt" title="Permalink to this headline">¶</a></h2>
<p>The project is divided into four modules:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 56%" />
<col style="width: 44%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Engineering</p></th>
<th class="head"><p>Research</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><img alt="earth" src="_images/earth_thumbnail.png" /> Blade: Environment</p></td>
<td><p><img alt="water" src="_images/water_thumbnail.png" /> Trinity: API</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="fire" src="_images/fire_thumbnail.png" />  Embyr: Render</p></td>
<td><p><img alt="air" src="_images/air_thumbnail.png" /> Ethyr: Contrib</p></td>
</tr>
</tbody>
</table>
<p>The objective is similar to “artificial life”: create agents that scale to the complexity and robustness of the real world. A key perspective of the project is decoupling this statement into subproblems that are concrete, feasible, and directly composable to solve the whole problem. We split the objective into “agents that scale to their environment” and “environments that scale to the real world.” These are large respective research and engineering problems, but unlike the original objective, they are specific enough to attempt individually. See Ideology if you find this sort of macro view interesting.</p>
<p><img alt="water" src="_images/water_thumbnail.png" /> <img alt="air" src="_images/air_thumbnail.png" /> Research: Agents that scale to env complexity</p>
<p><img alt="earth" src="_images/earth_thumbnail.png" /> <img alt="fire" src="_images/fire_thumbnail.png" /> Engineering: Env that scales to real world complexity</p>
<div class="section" id="water-trinity">
<h3><img alt="water" src="_images/water_thumbnail.png" /> Trinity<a class="headerlink" href="#water-trinity" title="Permalink to this headline">¶</a></h3>
<p>Neural MMO uses the OpenAI Gym API function signatures:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">forge.blade.core.realm</span> <span class="kn">import</span> <span class="n">Realm</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">Realm</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">mapIdx</span><span class="p">)</span>

<span class="c1">#The environment is persistent: call reset only upon initialization</span>
<span class="n">obs</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

<span class="c1">#Observations contain entity and stimulus</span>
<span class="c1">#for each agent in each environment.</span>
<span class="n">actions</span> <span class="o">=</span> <span class="n">your_algorithm_here</span><span class="p">(</span><span class="n">obs</span><span class="p">)</span>

<span class="c1">#Observations length is variable (as is the number of agents)</span>
<span class="c1">#The environment is persistent: &quot;dones&quot; denotes whether</span>
<span class="c1">#whether the given agent has died, but the env goes on.</span>
<span class="n">obs</span><span class="p">,</span> <span class="n">rewards</span><span class="p">,</span> <span class="n">dones</span><span class="p">,</span> <span class="n">infos</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">actions</span><span class="p">)</span>
</pre></div>
</div>
<p>However, there are some necesary deviations in argument/return values:</p>
<ol class="arabic simple">
<li><p>Observations and actions are objects, not tensors. This is a major compute saver, but it also complicates IO – the process of inputting observations into networks and outputing action choices. Ethyr provides a dedicated IO api to assist with this.</p></li>
<li><p>The environment supports a large and variable number of agents. Observations are returned with variable length in an arbitrary order. Each observation is tagged with the ID of the associated agent.</p></li>
<li><p>The environment is ill suited to per-frame rendering and instead functions as an MMO client/server. Example usage is provided in Forge.py.</p></li>
</ol>
<p>You can provide your own infrastructure or use our Trinity API. Trinity is a simple three layer persistent, synchronous/asynchronous, distributed computation model that allows you to specify cluster, server, and core level functionality by implementing three base classes. High level usage is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Ready: Create a Trinity object specifying</span>
<span class="c1">#Cluster, Server, and Core level execution</span>
<span class="n">trinity</span> <span class="o">=</span> <span class="n">Trinity</span><span class="p">(</span><span class="n">Pantheon</span><span class="p">,</span> <span class="n">God</span><span class="p">,</span> <span class="n">Sword</span><span class="p">)</span>

<span class="c1">#Aim: Pass it an experiment configuration</span>
<span class="n">trinity</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

<span class="c1">#Fire.</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">solved</span><span class="p">(</span><span class="n">AGI</span><span class="p">):</span>
   <span class="n">trinity</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
</pre></div>
</div>
<p>Where Pantheon, God, and Sword (see Namesake if that sounds odd) are user defined subclasses of Ascend – our lightweight and framework agnostic Ray wrapper defining an arbitrary “layer” of infrastructure. All communications are handled internally and easily exposed for debugging. The demo in /projekt shows how Trinity can be used for distributed training with very little code outside of the model and rollout collection.</p>
</div>
<div class="section" id="air-ethyr">
<h3><img alt="air" src="_images/air_thumbnail.png" /> Ethyr<a class="headerlink" href="#air-ethyr" title="Permalink to this headline">¶</a></h3>
<p>Ethyr is the “contrib” for this project. It contains useful research tools for interacting with the project, most notably IO classes for pre/post processing observations and actions. I’ve seeded it with the helper classes from my personal experiments, including a model save/load manager, a rollout objects, and a basic optimizer. If you would like to contribute code (in any framework, not just PyTorch), please submit a pull request.</p>
</div>
<div class="section" id="earth-blade">
<h3><img alt="earth" src="_images/earth_thumbnail.png" /> Blade<a class="headerlink" href="#earth-blade" title="Permalink to this headline">¶</a></h3>
<p>Blade is the core environment, including game state and control flow. Researchers should not need to touch this.</p>
</div>
<div class="section" id="fire-embyr">
<h3><img alt="fire" src="_images/fire_thumbnail.png" /> Embyr<a class="headerlink" href="#fire-embyr" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://github.com/jsuarez5341/neural-mmo-client">Embyr</a> is an independent repository containing the Unity3D client. All associated scripts are written in C# but reads relatively similarly to python. Researchers familiar with python and static typing should have no trouble beginning to contribute immediately, even without direct experience in C#. Performance should not be an issue on any decent machine; post in the Discord if you are having issues.</p>
<p>I am actively developing the environment and associated client in tandem. Updates are typically released in large chunks every few months. The Discrd is the best place to get more frequent news. Feel free to contact me there with ideas and feature requests.</p>
<p>The Legacy THREE.js web client is still available on old branches but does not work with v1.2+ server code. It’s written in javascript, but it reads like python. This is to allow researchers with a Python background and 30 minutes of javascript experience to begin contributing immediately. You will need to refresh the page whenever you reboot the server (Forge.py). Performance should no longer be an issue, but it runs better on Chrome than Firefox. Other browsers may work but are not officially supported.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ideology.html" class="btn btn-neutral float-right" title="Ideology" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral float-left" title="Welcome to the Platform!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Joseph Suarez

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #001010;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #001818;
    }
    .wy-nav-content {
      background: #002020;
    }
    .wy-nav-content-wrap {
      background: #001818;
    }

    .wy-table-responsive table td, .wy-table-responsive table th {
      /* !important prevents the common CSS stylesheets from
             overriding this as on RTD they are loaded after this stylesheet */
      white-space: normal !important;
    }
       
    .wy-table-responsive {
      overflow: visible !important;
    }

    //This one is the one that does something?
    .row-odd {
      background: #ff0000;
    }

    .row-even {
      background: #00ffff;
    }

    /* Top line */
    hr {
      border-top-color: teal;
      border-top-style: solid;
      border-top-width: 3px;
    }

    /* ****** Begin Tables ****** */

    /*Don't even think about changing this.
    Spent 3 hours pulling this from an rtd bitbucket PR*/ 
    wy-table-odd td, .wy-table-striped tr:nth-child(2n-1) td, .rst-content table.docutils:not(.field-list) tr:nth-child(2n-1) td {
      background-color: #001818;
    }

    wy-table-even td, .wy-table-striped tr:nth-child(2n) td, .rst-content table.docutils:not(.field-list) tr:nth-child(2n) td {
      background-color: #002020;
    }

    /* Outer table */
    .wy-table-bordered-all, .rst-content table.docutils {
      border: 1px solid #0f0;
        border-top-color: lime;
        border-top-style: solid;
        border-top-width: 1px;
        border-right-color: lime;
        border-right-style: solid;
        border-right-width: 1px;
        border-bottom-color: lime;
        border-bottom-style: solid;
        border-bottom-width: 1px;
        border-left-color: lime;
        border-left-style: solid;
        border-left-width: 1px;
        border-image-outset: 0;
        border-image-repeat: stretch;
        border-image-slice: 100%;
        border-image-source: none;
        border-image-width: 1;
    }

    /* Table header underline */
    .wy-table thead th, .rst-content table.docutils thead th, .rst-content table.field-list thead th {
        font-weight: bold;
        border-bottom-color: rgb(055, 0, 0);
        border-bottom-style: solid;
        border-bottom-width: 0px;
    }

    /* Inner table border */
    .wy-table-bordered-all td, .rst-content table.docutils td {
        border-bottom-color: rgb(255, 0, 0);
        border-bottom-style: solid;
        border-bottom-width: 0px;
        border-left-color: rgb(255, 0, 0);
        border-left-style: solid;
        border-left-width: 0px;
    }
    /* ****** End Tables ****** */

    /* ****** Start selection for left sidebar ****** */
    .wy-menu-vertical li.current{
      background: #003030;
    }

    .wy-menu-vertical li.toctree-l1.current > a{
      background: #002020;
      border-top-color: lime;
      border-top-style: solid;
      border-top-width: 3px;
      border-bottom-color: lime;
      border-bottom-style: solid;
      border-bottom-width: 3px;
      
    }

    .rst-content pre.literal-block, .rst-content div[class^="highlight"] {
      border-top-color: #00ff00;
      border-top-style: solid;
      border-top-width: 1px;
      border-right-color: #00ff00;
      border-right-style: solid;
      border-right-width: 1px;
      border-bottom-color: #00ff00;
      border-bottom-style: solid;
      border-bottom-width: 1px;
      border-left-color: #00ff00;
      border-left-style: solid;
      border-left-width: 1px;
      border-image-outset: 0;
      border-image-repeat: stretch;
      border-image-slice: 100%;
      border-image-source: none;
      border-image-width: 1;
    }

    .wy-menu-vertical li.toctree-l2.current li.toctree-l3 > a {
      display: block;
      background: #002020;
      padding: .4045em 4.045em;
    }

    .wy-menu-vertical li.toctree-l2.current > a {
      background: #002020;
      padding: .4045em 2.427em;
    }

    .wy-menu-vertical li.toctree-l3.current li.toctree-l4 > a {
      display: block;
      background: #002020;
      padding: .4045em 5.663em;
    }

    .wy-menu-vertical li.toctree-l2.current li.toctree-l3 > a {
      display: block;
      background: #002020;
      padding: .4045em 4.045em;
    }

    /* ****** End selection for left sidebar ****** */

    /* Bullet(?) blocks */
    .rst-content dl:not(.docutils) dt {
      display: table;
      margin: 6px 0;
      margin-top: 6px;
      font-size: 90%;
      line-height: normal;
      background: #003030;
      color: #008888;
      border-top: solid 6px #001818;
      padding: 6px;
      position: relative;
    }

    /* ****** Start Code Blocks ****** */
    .highlight-python {
      background: #00ff00;
      border: #00ff00;
    }

    .highlight {
      background: #003030;
      color: #00fafa;
    }
    /* ****** End Code Blocks ****** */

    /* Buttons */
    .btn-neutral {
      background-color: #008888 !important;
      color: #003030 !important;
    }

    .rst-content dl:not(.docutils) dl dt {
      margin-bottom: 6px;
      border-left: solid 0px #00000;
      background: #003030;
      color: #008888;
      }

    code, .rst-content tt, .rst-content code {
      background-color: #002020;
      border-top-width: 0px;
      border-bottom-width: 0px;
      border-left-width: 0px;
      border-right-width: 0px;
    }

    .rst-content dl:not(.docutils) dl dt {
      border-left-color: #002020;
    }

    .rst-content tt, .rst-content tt, .rst-content code {
      color: #00aaaa;
    }

    .rst-content tt.xref, a .rst-content tt, .rst-content tt.xref, .rst-content code.xref, a .rst-content tt, a .rst-content code {
      color:#00aaaa;
    }

    .wy-menu-vertical li.toctree-l2 a, .wy-menu-vertical li.toctree-l3 a, .wy-menu-vertical li.toctree-l4 a {
      color:#008800;
    }

    .wy-menu-vertical li.on a, .wy-menu-vertical li.current > a {
      color: #008888;
    }

    .wy-menu-vertical li.current a {
      border-right: solid 1px #002020;
      padding: .4045em 2.427em;
    }

    footer {
      color: teal;
    }

    p {
      color: #00aaaa;
    }
    h1 {
      color: lime;
    }

    h2 {
      color: aqua;
    }

    h3 {
      color: teal;
    }

    h4 {
      color: blue;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    li {
      padding-left: 1em; 
      text-indent: -.7em;
    }

    li {
      content: "• ";
      color: blue; /* or whatever color you prefer */
      }

    a:link {
      color: teal;
    }

    /* visited link */
    a:visited {
      color: lime;
    }

  </style>


</body>
</html>